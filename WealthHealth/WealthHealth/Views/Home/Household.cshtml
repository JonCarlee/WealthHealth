@model WealthHealth.Models.Custom.Household
@using Microsoft.AspNet.Identity
@using WealthHealth.Models

    <div id="content-header">
        <h1>Dashboard</h1>
    </div> <!-- #content-header -->
    <div id="content-container">

        <div>
            <h4 class="heading-inline">
                Weekly Budget
                &nbsp;&nbsp;<small>For the week of Jun 15 - Jun 22, 2011</small>
                &nbsp;&nbsp;
            </h4>

            <a href="" data-toggle="modal" data-target="#leave" class="btn btn-danger btn-sm">Leave Household</a>
            
            <!--$<input type="number" step="0.01" autocomplete="off" decimalprecision="2" maxlength="14" placeholder="0.00" />-->
            <div class="btn-group ">
                <button class="btn btn-default btn-sm dropdown-toggle" type="button" data-toggle="dropdown">
                    <i class="fa fa-clock-o"></i>  &nbsp;
                    Change Week <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu">
                    <li><a href="javascript:;">Action</a></li>
                    <li><a href="javascript:;">Another action</a></li>
                    <li><a href="javascript:;">Something else here</a></li>
                    <li class="divider"></li>
                    <li><a href="javascript:;">Separated link</a></li>
                </ul>
            </div>
        </div>

        <br />


        <div class="row">

            <div class="col-md-3 col-sm-6">

                <a href="javascript:;" class="dashboard-stat info">
                    <div class="visual">
                        <i class="fa fa-star"></i>
                    </div> <!-- /.visual -->

                    <div class="details">
                        <span class="content">Current Account Balances</span>
                        <span class="value">$@ViewBag.Balances</span>
                    </div> <!-- /.details -->

                    <i class="fa fa-play-circle more"></i>

                </a> <!-- /.dashboard-stat -->

            </div> <!-- /.col-md-3 -->

            <div class="col-md-3 col-sm-6">

                <a href="javascript:;" class="dashboard-stat secondary">
                    <div class="visual">
                        <i class="fa fa-shopping-cart"></i>
                    </div> <!-- /.visual -->

                    <div class="details">
                        <span class="content">Current Projected Expenses</span>
                        <span class="value">$2,782</span>
                    </div> <!-- /.details -->

                    <i class="fa fa-play-circle more"></i>

                </a> <!-- /.dashboard-stat -->

            </div> <!-- /.col-md-3 -->

            <div class="col-md-3 col-sm-6">

                <a href="javascript:;" class="dashboard-stat tertiary">
                    <div class="visual">
                        <i class="fa fa-clock-o"></i>
                    </div> <!-- /.visual -->

                    <div class="details">
                        <span class="content">Account Balance</span>
                        <span class="value">$4000</span>
                    </div> <!-- /.details -->

                    <i class="fa fa-play-circle more"></i>

                </a> <!-- /.dashboard-stat -->

            </div> <!-- /.col-md-3 -->

            <div class="col-md-3 col-sm-6">

                <a href="javascript:;" class="dashboard-stat">
                    <div class="visual">
                        <i class="fa fa-money"></i>
                    </div> <!-- /.visual -->

                    <div class="details">
                        <span class="content">Projected Balance</span>
                        <span class="value">$4736</span>
                    </div> <!-- /.details -->

                    <i class="fa fa-play-circle more"></i>

                </a> <!-- /.dashboard-stat -->

            </div> <!-- /.col-md-9 -->



        </div> <!-- /.row -->




        <div class="row">

            <div class="col-md-9">

                <div class="portlet">

                    <div class="portlet-header">

                        <h3>
                            <i class="fa fa-bar-chart-o"></i>
                            Area Chart
                        </h3>

                    </div> <!-- /.portlet-header -->

                    <div class="portlet-content">

                        <div class="pull-left">
                            <div class="btn-group" data-toggle="buttons">
                                <label class="btn btn-sm btn-default">
                                    <input type="radio" name="options" id="option1"> Day
                                </label>
                                <label class="btn btn-sm btn-default">
                                    <input type="radio" name="options" id="option2"> Week
                                </label>
                                <label class="btn btn-sm btn-default active">
                                    <input type="radio" name="options" id="option3"> Month
                                </label>
                            </div>

                            &nbsp;

                            <div class="btn-group">
                                <button type="button" class="btn btn-sm btn-default dropdown-toggle" data-toggle="dropdown">
                                    Custom Date
                                    <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li><a href="javascript:;">Dropdown link</a></li>
                                    <li><a href="javascript:;">Dropdown link</a></li>
                                </ul>
                            </div>

                        </div>

                        <div class="pull-right">
                            <div class="btn-group">
                                <button type="button" class="btn btn-sm btn-default dropdown-toggle" data-toggle="dropdown">
                                    <i class="fa fa-cog"></i> &nbsp;&nbsp;<span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu pull-right" role="menu">
                                    <li><a href="javascript:;">Action</a></li>
                                    <li><a href="javascript:;">Another action</a></li>
                                    <li><a href="javascript:;">Something else here</a></li>
                                    <li class="divider"></li>
                                    <li><a href="javascript:;">Separated link</a></li>
                                </ul>
                            </div>
                        </div>

                        <div class="clear"></div>
                        <hr />


                        <div id="area-chart" class="chart-holder" style="height: 250px"></div> <!-- /#bar-chart -->

                    </div> <!-- /.portlet-content -->

                </div> <!-- /.portlet -->




                <div class="row">

                    <div class="col-md-6">

                        <div class="portlet">

                            <div class="portlet-header">

                                <h3>
                                    <i class="fa fa-money"></i>
                                    Accounts
                                </h3>

                                <ul class="portlet-tools pull-right">
                                    <li>
                                        <a href="" data-toggle="modal" data-target="#newAccount" class="btn btn-info btn-sm">Create an Account</a>
                                    </li>
                                </ul>

                            </div> <!-- /.portlet-header -->

                            <div class="portlet-content">

                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th style="text-align:center">Name</th>
                                                <th style="text-align:center">Transactions</th>
                                                <th style="text-align:center">Current Balance</th>
                                                <th style="text-align:center"></th>
                                            </tr>
                                        </thead>
                                        <tbody style="text-align:center">
                                            @foreach (var account in Model.Accounts)
                                            {
                                                <tr>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => account.Name)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => account.Transactions.Count)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => account.Amount)
                                                    </td>
                                                    <td><a href="/Accounts/Details/@account.Id" class="btn btn-xs btn-tertiary">Details &nbsp;&nbsp;<i class="fa fa-chevron-right"></i></a></td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                </div> <!-- /.table-responsive -->

                                <hr />

                                <a href="javascript:;" class="btn btn-sm btn-secondary">View All Accounts</a>


                            </div> <!-- /.portlet-content -->

                        </div> <!-- /.portlet -->


                    </div> <!-- /.col-md-4 -->



                    <div class="col-md-6">

                        <div class="portlet">

                            <div class="portlet-header">

                                <h3>
                                    <i class="fa fa-group"></i>
                                    Users In Household
                                </h3>

                                <ul class="portlet-tools pull-right">
                                    <li>
                                        <a href="/Home/InviteUser/@Model.Id" class="btn btn-sm btn-info">Invite Another User</a>
                                    </li>
                                </ul>

                            </div> <!-- /.portlet-header -->

                            <div class="portlet-content">


                                <div class="table-responsive">

                                    <table id="user-signups" class="table table-striped table-checkable">
                                        <thead>
                                            <tr>
                                                <th class="checkbox-column">
                                                    <input type="checkbox" id="check-all" class="icheck-input" />
                                                </th>
                                                <th class="hidden-xs">
                                                    First Name
                                                </th>
                                                <th>Last Name</th>
                                                <th>
                                                    Status
                                                </th>

                                                <th class="align-center">
                                                    Approve
                                                </th>

                                            </tr>
                                        </thead>

                                        <tbody>
                                            @foreach (var user in Model.Users)
                                            {
                                                <tr>
                                                    <td class="checkbox-column">
                                                        <input type="checkbox" name="actiony" value="joey" class="icheck-input">
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => user.FirstName)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => user.LastName)
                                                    </td>
                                                    <td>

                                                    </td>
                                                    <td>
                                                    <td class="align-center">
                                                        <a href="javascript:void(0);" class="btn btn-xs btn-primary" data-original-title="Approve">
                                                            <i class="fa fa-check"></i>
                                                        </a>
                                                    </td>
                                                </tr>
                                            }
                                            <!--<tr class="">
                                                <td class="checkbox-column">
                                                    <input type="checkbox" name="actiony" value="joey" class="icheck-input">
                                                </td>

                                                <td class="hidden-xs">Joey</td>
                                                <td>Greyson</td>
                                                <td><span class="label label-success">Approved</span></td>
                                                <td class="align-center">
                                                    <a href="javascript:void(0);" class="btn btn-xs btn-primary" data-original-title="Approve">
                                                        <i class="fa fa-check"></i>
                                                    </a>
                                                </td>
                                            </tr>
                                                -->
                                          

                                        </tbody>
                                    </table>


                                </div> <!-- /.table-responsive -->

                                <hr />

                                Apply to Selected: &nbsp;&nbsp;
                                <select id="apply-selected" name="table-select" class="ui-select2" style="width: 125px">
                                    <option value="">Select Action</option>
                                    <option value="approve">Approve</option>
                                    <option value="edit">Edit</option>
                                    <option value="delete">Delete</option>

                                </select>

                            </div> <!-- /.portlet-content -->

                        </div> <!-- /.portlet -->

                    </div> <!-- /.col-md-4 -->


                </div> <!-- /.row -->






                <div class="portlet">

                    <div class="portlet-header">

                        <h3>
                            <i class="fa fa-calendar"></i>
                            Full Calendar
                        </h3>

                    </div> <!-- /.portlet-header -->

                    <div class="portlet-content">


                        <div id="full-calendar"></div>


                    </div> <!-- /.portlet-content -->

                </div> <!-- /.portlet -->



            </div> <!-- /.col-md-9 -->




            <div class="col-md-3">

                <div class="portlet">

                    <div class="portlet-header">

                        <h3>
                            <i class="fa fa-bar-chart-o"></i>
                            Donut Chart
                        </h3>

                    </div> <!-- /.portlet-header -->

                    <div class="portlet-content">

                        <div id="test"></div>

                    </div> <!-- /.portlet-content -->

                </div> <!-- /.portlet -->



                <div class="portlet">

                    <div class="portlet-header">

                        <h3>
                            <i class="fa fa-compass"></i>
                            Traffic Overview
                        </h3>

                    </div> <!-- /.portlet-header -->

                    <div class="portlet-content">


                        <div class="progress-stat">

                            <div class="stat-header">

                                <div class="stat-label">
                                    % New Visits
                                </div> <!-- /.stat-label -->

                                <div class="stat-value">
                                    27.7%
                                </div> <!-- /.stat-value -->

                            </div> <!-- /stat-header -->

                            <div class="progress progress-striped active">
                                <div class="progress-bar progress-bar-primary" role="progressbar" aria-valuenow="77" aria-valuemin="0" aria-valuemax="100" style="width: 77%">
                                    <span class="sr-only">77.74% Visit Rate</span>
                                </div>
                            </div> <!-- /.progress -->

                        </div> <!-- /.progress-stat -->

                        <div class="progress-stat">

                            <div class="stat-header">

                                <div class="stat-label">
                                    % Mobile Visitors
                                </div> <!-- /.stat-label -->

                                <div class="stat-value">
                                    33.2%
                                </div> <!-- /.stat-value -->

                            </div> <!-- /stat-header -->

                            <div class="progress progress-striped active">
                                <div class="progress-bar progress-bar-tertiary" role="progressbar" aria-valuenow="33" aria-valuemin="0" aria-valuemax="100" style="width: 33%">
                                    <span class="sr-only">33% Mobile Visitors</span>
                                </div>
                            </div> <!-- /.progress -->

                        </div> <!-- /.progress-stat -->

                        <div class="progress-stat">

                            <div class="stat-header">

                                <div class="stat-label">
                                    Bounce Rate
                                </div> <!-- /.stat-label -->

                                <div class="stat-value">
                                    42.7%
                                </div> <!-- /.stat-value -->

                            </div> <!-- /stat-header -->

                            <div class="progress progress-striped active">
                                <div class="progress-bar progress-bar-secondary" role="progressbar" aria-valuenow="42" aria-valuemin="0" aria-valuemax="100" style="width: 42%">
                                    <span class="sr-only">42.7% Bounce Rate</span>
                                </div>
                            </div> <!-- /.progress -->

                        </div> <!-- /.progress-stat -->

                        <br />

                    </div> <!-- /.portlet-content -->

                </div> <!-- /.portlet -->




                <div class="portlet">

                    <div class="portlet-header">

                        <h3>
                            <i class="fa fa-bar-chart-o"></i>
                            Sparkline
                        </h3>

                    </div> <!-- /.portlet-header -->

                    <div class="portlet-content">

                        <div class="row row-marginless">

                            <div class="spark-stat col-md-6 col-sm-6 col-xs-6">

                                <div id="total-visits">32, 38, 46, 49, 53, 48, 47, 56</div>
                                <span class="value">1,564</span>
                                <h5>Total Visits</h5>

                            </div> <!-- /.col -->

                            <div class="spark-stat col-md-6 col-sm-6 col-xs-6">

                                <div id="new-visits">32, 38, 46, 49, 53, 48, 47, 56</div>
                                <span class="value">872</span>
                                <h5>New Visits</h5>

                            </div> <!-- /.col -->

                        </div> <!-- /.row -->


                        <div class="row row-marginless">

                            <div class="spark-stat col-md-6 col-sm-6 col-xs-6">

                                <div id="unique-visits">32, 38, 46, 49, 53, 48, 47, 56</div>
                                <span class="value">845</span>
                                <h5>Unique Visits</h5>

                            </div> <!-- /.col -->

                            <div class="spark-stat col-md-6 col-sm-6 col-xs-6">

                                <div id="revenue-visits" data-bar-color="#c00">32, 38, 46, 49, 53, 48, 47, 56</div>
                                <span class="value">$13,492</span>
                                <h5>Revenue Visits</h5>

                            </div> <!-- /.col -->

                        </div> <!-- /.row -->

                    </div> <!-- /.portlet-content -->

                </div> <!-- /.portlet -->

            </div> <!-- /.col -->

        </div> <!-- /.row -->

    </div> <!-- /#content-container -->



<ul class="howl">
</ul>
@section Scripts{
    <script>
    $(document).ready(function () {
        var a = "@ViewBag.Email";
        if(a == ""){
            a = false;
        }
        else{
            $.howl({
                type: 'success',
                title: 'Invite Sent',
                content: 'Your invite has been sent successfully.',
                sticky: false,
                lifetime: 7500
            });
        }
        if(@Model.Users.Count == 1){
                document.getElementById("whoisleaving").innerHTML = "Warning!  You are the last member of this household.  If you leave your data WILL BE DELETED.  Are you sure you want to leave the household?"
            }
            else{
                document.getElementById("whoisleaving").innerHTML = "Are you sure you want to leave the household?"
        }
        });
        if(@ViewBag.NoCat == true){
            Morris.Donut({
                element: 'test',
                data: [
                {label: "N/A", value: 0}
                ]
            });
        }
        else{
            var list = new Array();
            var output = new Array();
            for(var i = 0; i < list.length; i++){
                if(list[i] == ""){

                }
                else{
                    output[i] = {label: list[i], value: 20}
                }
            }
            Morris.Donut({
                element: 'test',
                data:
                    [output]
            });
        }


  </script>
}

